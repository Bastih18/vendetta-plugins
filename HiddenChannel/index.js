(function(d,i,s,r,y,C){"use strict";const{View:P,Text:f,Pressable:R}=i.findByProps("Button","Text","View"),E=i.findByProps("extractTimestamp"),l=s.stylesheet.createThemedStyleSheet({container:{flex:1,padding:16,alignItems:"center",justifyContent:"center"},title:{fontFamily:s.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:24,textAlign:"left",color:y.semanticColors.HEADER_PRIMARY,paddingVertical:25},text:{flex:1,flexDirection:"row",fontSize:16,textAlign:"justify",color:y.semanticColors.HEADER_PRIMARY},dateContainer:{height:16,alignSelf:"baseline"}});function p(t){let{date:e}=t;return React.createElement(R,{style:l.dateContainer,onPress:function(){s.toasts.open({content:s.moment(e).toLocaleString(),source:C.getAssetByName("clock").id})},onLongPress:function(){s.clipboard.setString(e.getTime().toString()),s.toasts.open({content:"Copied to clipboard"})}},React.createElement(f,{style:l.text},s.moment(e).fromNow()))}function m(t){let{channel:e}=t;return React.createElement(P,{style:l.container},React.createElement(f,{style:l.title},"This channel is hidden."),React.createElement(f,{style:l.text},"Topic: ",e.topic||"No topic.",`

`,"Creation date: ",React.createElement(p,{date:new Date(E.extractTimestamp(e.id))}),`

`,"Last message: ",e.lMsg?React.createElement(p,{date:new Date(E.extractTimestamp(e.lMsg))}):"No messages.",`

`,"Last pin: ",e.lastPinTimestamp?React.createElement(p,{date:new Date(e.lastPinTimestamp)}):"No pins."))}let c=[];const h=i.findByProps("getChannelPermissions","can"),M=i.findByProps("transitionToGuild"),F=i.findByProps("stores","fetchMessages"),{ChannelTypes:g}=i.findByProps("ChannelTypes"),{getChannel:T}=i.findByProps("getChannel"),x=[g.DM,g.GROUP_DM,g.GUILD_CATEGORY];function u(t){if(t==null||(typeof t=="string"&&(t=T(t)),!t||x.includes(t.type)))return!1;t.realCheck=!0;let e=!h.can(s.constants.Permissions.VIEW_CHANNEL,t);return delete t.realCheck,e}function D(){console.log("HiddenChannel loaded 1.8");const t=i.findByName("MessagesWrapperConnected",!1);c.push(r.after("can",h,function(e,a){let[o,n]=e;return!n?.realCheck&&o===s.constants.Permissions.VIEW_CHANNEL?(u(n)&&(n.name.startsWith("\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F\u2716\uFE0F | ")||(n.name="\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F\u2716\uFE0F | "+n.name),(n.lMsg==null||n.lMsg!=n.lastMessageId)&&(n.lMsg=n.lastMessageId),n.lastMessageId=void 0),!0):a})),c.push(r.instead("transitionToGuild",M,function(e,a){const[o,n]=e;!u(n)&&typeof a=="function"&&a(e)})),c.push(r.instead("fetchMessages",F,function(e,a){const[o]=e;!u(o)&&typeof a=="function"&&a(e)})),c.push(r.instead("default",t,function(e,a){const o=e[0]?.channel;return!u(o)&&typeof a=="function"?a(...e):s.React.createElement(m,{channel:o})}))}var A={onLoad:D,onUnload:function(){for(const t of c)t()}};return d.default=A,Object.defineProperty(d,"__esModule",{value:!0}),d})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui,vendetta.ui.assets);
