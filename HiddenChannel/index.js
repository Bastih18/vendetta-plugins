(function(u,i,n,r,h,M){"use strict";const{View:P,Text:g,Pressable:R}=i.findByProps("Button","Text","View"),C=i.findByProps("extractTimestamp"),l=n.stylesheet.createThemedStyleSheet({container:{flex:1,padding:16,alignItems:"center",justifyContent:"center"},title:{fontFamily:n.constants.Fonts.PRIMARY_SEMIBOLD,fontSize:24,textAlign:"left",color:h.semanticColors.HEADER_PRIMARY,paddingVertical:25},text:{flex:1,flexDirection:"row",fontSize:16,textAlign:"justify",color:h.semanticColors.HEADER_PRIMARY},dateContainer:{height:16,alignSelf:"baseline"}});function p(e){let{date:t}=e;return React.createElement(R,{style:l.dateContainer,onPress:function(){n.toasts.open({content:n.moment(t).toLocaleString(),source:M.getAssetByName("clock").id})},onLongPress:function(){n.clipboard.setString(t.getTime().toString()),n.toasts.open({content:"Copied to clipboard"})}},React.createElement(g,{style:l.text},n.moment(t).fromNow()))}function m(e){let{channel:t}=e;return React.createElement(P,{style:l.container},React.createElement(g,{style:l.title},"This channel is hidden."),React.createElement(g,{style:l.text},"Topic: ",t.topic||"No topic.",`

`,"Creation date: ",React.createElement(p,{date:new Date(C.extractTimestamp(t.id))}),`

`,"Last message: ",t.lMsg?React.createElement(p,{date:new Date(C.extractTimestamp(t.lMsg))}):"No messages.",`

`,"Last pin: ",t.lastPinTimestamp?React.createElement(p,{date:new Date(t.lastPinTimestamp)}):"No pins."))}let c=[];const E=i.findByProps("getChannelPermissions","can"),T=i.findByProps("transitionToGuild"),I=i.findByProps("stores","fetchMessages"),{ChannelTypes:y}=i.findByProps("ChannelTypes"),{getChannel:x}=i.findByProps("getChannel"),A=[y.DM,y.GROUP_DM,y.GUILD_CATEGORY];function d(e){if(e==null||(typeof e=="string"&&(e=x(e)),!e||A.includes(e.type)))return!1;e.realCheck=!0;let t=!E.can(n.constants.Permissions.VIEW_CHANNEL,e);return delete e.realCheck,t}function f(e){d(e)&&((e.lMsg==null||e.lMsg!=e.lastMessageId)&&(e.lMsg=e.lastMessageId),e.lastMessageId=void 0)}function B(){console.log("HiddenChannel loaded 2.6");const e=i.findByName("MessagesWrapperConnected",!1);c.push(r.after("can",E,function(t,s){let[a,o]=t;return!o?.realCheck&&a===n.constants.Permissions.VIEW_CHANNEL?(f(o),o.lastMessageId=void 0,!0):s})),c.push(r.instead("transitionToGuild",T,function(t,s){const[a,o]=t;f(o),!d(o)&&typeof s=="function"&&s(t)})),c.push(r.instead("fetchMessages",I,function(t,s){const[a]=t;f(a),a.lastMessageId=void 0,!d(a)&&typeof s=="function"&&s(t)})),c.push(r.instead("default",e,function(t,s){const a=t[0]?.channel;return f(a),!d(a)&&typeof s=="function"?s(...t):n.React.createElement(m,{channel:a})}))}var v={onLoad:B,onUnload:function(){for(const e of c)e()}};return u.default=v,Object.defineProperty(u,"__esModule",{value:!0}),u})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui,vendetta.ui.assets);
